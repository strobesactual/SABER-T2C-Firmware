#include "GeoFenceData.h"

static int defaultMaxChecks = 5;

// #ifdef UTAH
//     const float zone1_edges[4][4] = {
//         {38.056084, -122.170505, 38.058585, -122.168724},
//         {38.058585, -122.168724, 38.057909, -122.167286},
//         {38.057909, -122.167286, 38.055324, -122.169045},
//         {38.055324, -122.169045, 38.056084, -122.170505}
//     };
//     GeoFenceStruct zone1_struct = {zone1_edges, 4, defaultMaxChecks};
// #else
//     const float zone1_edges[1][4] = {};
//     GeoFenceStruct zone1_struct = {zone1_edges, 0, defaultMaxChecks};
// #endif

#ifdef MOA_ON
    /// @brief includes lucin a, b, c, d, and e and r-6404 a, c, and d
    const float utah_northwest_edges[15][4] = {
        {40.6000058193611, -114.434178881201, 40.9000058502205, -114.434178922703},
        {40.9000058502205, -114.434178922703, 41.6666725891067, -114.500845711823},
        {41.6666725891067, -114.500845711823, 41.8750059911367, -113.923067854171},
        {41.8750059911367, -113.923067854171, 41.9500060381616, -113.450845549875},
        {41.9500060381616, -113.450845549875, 41.8750060471192, -113.250845499186},
        {41.8750060471192, -113.250845499186, 41.2097282196957, -113.004456464975},
        {41.2097282196957, -113.004456464975, 41.1916726825015, -112.759178636685},
        {41.1916726825015, -112.759178636685, 41.1166726831288, -112.650845270551},
        {41.1166726831288, -112.650845270551, 41.0166726723377, -112.650845256617},
        {41.0166726723377, -112.650845256617, 40.9166726462974, -112.842511947923},
        {40.9166726462974, -112.842511947923, 40.8666726323109, -112.950845295507},
        {40.8666726323109, -112.950845295507, 40.8166725699926, -113.667512096279},
        {40.8166725699926, -113.667512096279, 40.8841028496573, -114.284168934765},
        {40.8841028496573, -114.284168934765, 40.6000058312756, -114.284178852539},
        {40.6000058312756, -114.284178852539, 40.6000058193611, -114.434178881201}
    };
    const float u_nw_alt = 17678.4;
    GeoFenceStruct utah_northwest = {utah_northwest_edges, 14, u_nw_alt, defaultMaxChecks};

    /// @brief includes sevier c, sevier d, r-6405, r-6402a, r-6407, r-6406a, r-6406b, r-6402b, gandy, and white elk
    const float utah_west_edges[17][4] = {
        {38.7000057154728, -113.067511709877, 38.5000056543965, -113.600845122875},
        {38.5000056543965, -113.600845122875, 38.716672321816, -113.934178546094},
        {38.716672321816, -113.934178546094, 39.0000056826486, -113.984178589472},
        {39.0000056826486, -113.984178589472, 39.3833390527723, -114.050845315194},
        {39.3833390527723, -114.050845315194, 39.3833390227536, -114.450845391285},
        {39.3833390227536, -114.450845391285, 39.8611168016969, -115.100012241253},
        {39.8611168016969, -115.100012241253, 40.4083390798602, -115.100012313966},
        {40.4083390798602, -115.100012313966, 40.6000057862509, -114.850012293104},
        {40.6000057862509, -114.850012293104, 40.6000058180363, -114.450845550379},
        {40.6000058180363, -114.450845550379, 40.6000058491082, -114.059305793372},
        {40.6000058491082, -114.059305793372, 40.6500058589793, -114.000845470939},
        {40.6500058589793, -114.000845470939, 40.6500059379822, -113.00084527579},
        {40.6500059379822, -113.00084527579, 40.5736170451686, -112.943900810216},
        {40.5736170451686, -112.943900810216, 40.5166726204418, -112.617511848831},
        {40.5166726204418, -112.617511848831, 39.9833392336068, -112.534178429338},
        {39.9833392336068, -112.534178429338, 39.7833392060756, -112.600845083067},
        {39.7833392060756, -112.600845083067, 38.7000057154728, -113.067511709877}
    };
    const float u_w_alt = 17678.4;
    GeoFenceStruct utah_west = {utah_west_edges, 17, u_w_alt, defaultMaxChecks};

    const float utah_r6403_edges[4][4] = {
        {40.4922281850651, -112.459178480993, 40.4922281827982, -112.488345152817},
        {40.4922281827982, -112.488345152817, 40.512228185008, -112.488345155486},
        {40.512228185008, -112.488345155486, 40.5122281872768, -112.459178483661},
        {40.5122281872768, -112.459178483661, 40.4922281850651, -112.459178480993}
    };
    const float u_r6403_alt = 2743.2;
    GeoFenceStruct utah_r6403 = {utah_r6403_edges, 4, u_r6403_alt, defaultMaxChecks};

    const float utah_r6412bd_edges[7][4] = {
        {40.3916726543695, -112.000011708488, 40.3916726465986, -112.100845061806},
        {40.3916726465986, -112.100845061806, 40.4583393200714, -112.10084507062},
        {40.4583393200714, -112.10084507062, 40.4583393278653, -112.000011717293},
        {40.4583393278653, -112.000011717293, 40.458339332435, -111.940845038345},
        {40.458339332435, -111.940845038345, 40.4327032194744, -111.928850588531},
        {40.4327032194744, -111.928850588531, 40.3916726607647, -111.916956135717},
        {40.3916726607647, -111.916956135717, 40.3916726543695, -112.000011708488}
    };
    const float u_r6412bd_alt = 3048.0;
    GeoFenceStruct utah_r6412bd = {utah_r6412bd_edges, 7, u_r6412bd_alt, defaultMaxChecks};   

    const float utah_r6413_edges[7][4] = {
        {38.5250059142961, -109.950566616648, 38.7675059343006, -110.100566675394},
        {38.7675059343006, -110.100566675394, 38.9500059527085, -110.16167782016},
        {38.9500059527085, -110.16167782016, 38.9672281817048, -110.093066696864},
        {38.9672281817048, -110.093066696864, 38.8208392844597, -109.951122205329},
        {38.8208392844597, -109.951122205329, 38.5575059310985, -109.767233247967},
        {38.5575059310985, -109.767233247967, 38.5250059212151, -109.850566595761},
        {38.5250059212151, -109.850566595761, 38.5250059142961, -109.950566616648}
    };
    const float u_r6413_alt = 100000; // this airspace is unlimited, so alt is set to the Karman line
    GeoFenceStruct utah_r6413 = {utah_r6413_edges, 7, u_r6413_alt, defaultMaxChecks};
#else
    const float utah_northwest_edges[1][4]
    GeoFenceStruct utah_northwest_struct = {utah_northwest, 0, u_nw_alt, defaultMaxChecks};
    const float utah_west_edges[1][4]
    GeoFenceStruct utah_west = {utah_west_edges, 0, u_w_alt, defaultMaxChecks};
    const float utah_r6403_edges[1][4]
    GeoFenceStruct utah_r6403 = {utah_r6403_edges, 0, u_r6403_alt, defaultMaxChecks};
    const float utah_r6412bd_edges[1][4]
    GeoFenceStruct utah_r6412bd = {utah_r6412bd_edges, 0, u_r6412bd_alt defaultMaxChecks}; 
    const float utah_r6413_edges[1][4]
    GeoFenceStruct utah_r6413 = {utah_r6413_edges, 0, u_r6413_alt, defaultMaxChecks};
#endif

#ifdef CALIFORNIA
    const float zone1_edges[4][4] = {
        {38.056084, -122.170505, 38.058585, -122.168724},
        {38.058585, -122.168724, 38.057909, -122.167286},
        {38.057909, -122.167286, 38.055324, -122.169045},
        {38.055324, -122.169045, 38.056084, -122.170505}
    };
    GeoFenceStruct zone1 = {zone1_edges, 4, 100000, defaultMaxChecks};

    const float zone2_edges[11][4] = {
        {38.054986, -122.167816, 38.057943, -122.165799},
        {38.057943, -122.165799, 38.056997, -122.163524},
        {38.056997, -122.163524, 38.056186, -122.164104},
        {38.056186, -122.164104, 38.056338, -122.165155},
        {38.056338, -122.165155, 38.055459, -122.165734},
        {38.055459, -122.165734, 38.054851, -122.164447},
        {38.054851, -122.164447, 38.051945, -122.165219},
        {38.051945, -122.165219, 38.052384, -122.168631},
        {38.052384, -122.168631, 38.053803, -122.166528},
        {38.053803, -122.166528, 38.053837, -122.169232},
        {38.053837, -122.169232, 38.054986, -122.167816}
    };
    GeoFenceStruct zone2 = {zone2_edges, 11, 100000, defaultMaxChecks};

    const float zone3_edges[15][4] = {
        {38.058467, -122.173401, 38.059278, -122.172811},
        {38.059278, -122.172811, 38.059717, -122.172591},
        {38.059717, -122.172591, 38.059616, -122.174817},
        {38.059616, -122.174817, 38.060680, -122.171395},
        {38.060680, -122.171395, 38.059852, -122.169925},
        {38.059852, -122.169925, 38.059096, -122.170526},
        {38.059096, -122.170526, 38.058272, -122.171170},
        {38.058272, -122.171170, 38.057696, -122.171583},
        {38.057696, -122.171583, 38.057221, -122.171931},
        {38.057221, -122.171931, 38.057808, -122.173337},
        {38.057808, -122.173337, 38.056819, -122.174260},
        {38.056819, -122.174260, 38.059620, -122.174817},
        {38.059620, -122.174817, 38.058072, -122.174024},
        {38.058072, -122.174024, 38.058467, -122.173401}
    };
    GeoFenceStruct zone3 = {zone3_edges, 15, 100000, defaultMaxChecks};
#else
    const float zone1_edges[1][4] = {};
    GeoFenceStruct zone1_struct = {zone1_edges, 0, 100000, defaultMaxChecks};
    const float zone2_edges[1][4] = {};
    GeoFenceStruct zone2_struct = {zone2_edges, 0, 100000, defaultMaxChecks};
    const float zone3_edges[1][4] = {};
    GeoFenceStruct zone3_struct = {zone3_edges, 0, 100000, defaultMaxChecks};
#endif

namespace GeoData
{
    GeoFenceStruct* allGeos[] = {&zone1, &zone2, &zone3, &utah_northwest, &utah_west, &utah_r6403, &utah_r6412bd, &utah_r6413};
    size_t const num_geoZones = sizeof(allGeos)/sizeof(allGeos[0]);
}
