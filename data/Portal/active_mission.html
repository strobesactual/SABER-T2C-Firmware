<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Active Mission</title>

  <link rel="stylesheet" href="./styles.css" />
</head>

<body>
  <header class="topbar">
    <div class="brand">
      <img src="./assets/Logo_Small.png" alt="SABER" />
    </div>

    <nav class="nav">
      <a class="navlink" href="./configuration.html">Configuration</a>
      <a class="navlink" href="./mission_library.html">Mission Library</a>
      <a class="navlink active" href="./active_mission.html">Active Mission</a>
    </nav>

    <div class="topbar-actions">
      <span id="saveFlag" class="save-flag" aria-live="polite"></span>
      <button id="saveActiveMission" class="btn btn-primary" type="button">Save</button>
    </div>
  </header>

  <main class="container">
    <div class="mission-grid">

      <section class="card mission-box" id="activeMissionBox">
        <div class="box-header">
          <h2>Active Mission</h2>
        </div>

        <div class="mission-id-row">
          <div class="field mission-id-field">
            <label for="missionId">Mission ID</label>
            <input id="missionId" class="box-medium box-editable" type="text" placeholder="None" />
          </div>
          <div class="field mission-id-field">
            <label for="amMissionCallsign">Callsign</label>
            <input id="amMissionCallsign" class="box-medium box-display" type="text" placeholder="--" readonly />
          </div>
        </div>

        <div class="mission-note-row">
          <span class="mission-note">Termination trigger count</span>
          <input id="timedPill" class="box-narrow box-display box-center" type="text" value="0" readonly />
        </div>

        <div class="toggle mission-toggle">
          <label class="switch">
            <input id="satcomMessagesMission" type="checkbox" />
            <span class="slider"></span>
          </label>
          <span>I have verified SATCOM messages have been received</span>
        </div>
      </section>

      <section class="card mission-box" id="timedTerminationBox">
        <div class="card-left">
          <div class="box-header">
            <h2>Timed Termination</h2>
            <p class="muted">Termination timer will be computed automatically.</p>
          </div>
        </div>

        <div class="card-right">
          <div class="toggle timed-toggle">
            <label class="switch">
              <input id="timedEnabled" type="checkbox" />
              <span class="slider"></span>
            </label>
            <span>Timed termination enabled</span>
          </div>

          <div class="tt-inline-grid">
            <div class="inline-field">
              <label for="tt_days">Days</label>
              <input id="tt_days" class="box-narrow box-editable box-center" type="number" min="0" value="0" />
            </div>
            <div class="inline-field">
              <label for="tt_hours">Hours</label>
              <input id="tt_hours" class="box-narrow box-editable box-center" type="number" min="0" max="23" value="0" />
            </div>
            <div class="inline-field">
              <label for="tt_minutes">Minutes</label>
              <input id="tt_minutes" class="box-narrow box-editable box-center" type="number" min="0" max="59" value="0" />
            </div>
            <div class="inline-field">
              <label for="tt_seconds">Seconds</label>
              <input id="tt_seconds" class="box-narrow box-editable box-center" type="number" min="0" max="59" value="0" />
            </div>
            <div class="tt-total-row-inline">
              <label for="tt_total">Total</label>
              <input id="tt_total" class="box-display box-center box-coordinate" type="text" readonly />
              <span>Minutes</span>
            </div>
          </div>
        </div>
      </section>

      <section class="card mission-box" id="predefinedAreasBox">
        <div class="card-left">
          <div class="card-title">
            <h2>Pre-defined Areas</h2>
          </div>
          <p class="muted">Select an area to apply to the mission profile database.</p>
        </div>

        <div class="card-right">
          <div class="selected-area-block">
            <div class="selected-area-title">Remain-in Selection</div>
            <div id="selectedRemainIn" class="selected-area-list muted">None selected.</div>
          </div>

          <div class="selected-area-block">
            <div class="selected-area-title">Keep-out Selections</div>
            <div id="selectedKeepOut" class="selected-area-list muted">None selected.</div>
          </div>

          <div class="saved-area-table-wrap">
            <table class="saved-area-table">
              <thead>
                <tr>
                  <th>Remain In</th>
                  <th>Keep out</th>
                  <th>Area ID</th>
                </tr>
              </thead>
              <tbody>
                <tr
                  data-waypoint1-lat="37°28′00″N"
                  data-waypoint1-lon="116°00′03″W"
                  data-waypoint2-lat="37°28′00″N"
                  data-waypoint2-lon="115°35′03″W"
                  data-waypoint3-lat="37°06′00″N"
                  data-waypoint3-lon="115°35′03″W"
                  data-waypoint4-lat="37°06′00″N"
                  data-waypoint4-lon="116°00′03″W"
                >
                  <td>
                    <input class="area-select-remain" type="checkbox" data-area-name="Area 51 / R-4808N" />
                  </td>
                  <td>
                    <input class="area-select-keep" type="checkbox" data-area-name="Area 51 / R-4808N" />
                  </td>
                  <td>Area 51 / R-4808N</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </section>

      <section class="card mission-box" id="remainInBox">
        <div class="box-header">
          <h2>Remain-in Termination</h2>
          <p class="muted tight">Create a single polygon to define the balloon flight area. Leaving this polygon will trigger termination.</p>
          <p class="muted">Add points, then save the polygon.</p>
        </div>

        <div id="remainInPoints" class="point-list"></div>
        <div class="point-actions">
          <button id="remainInAdd" class="btn btn-blue" type="button">Add</button>
          <button id="remainInSave" class="btn btn-green" type="button">Save Polygon</button>
        </div>

        <div class="saved-poly-block">
          <h3>Saved Polygon</h3>
          <div id="remainInSaved" class="saved-poly-list"></div>
        </div>
      </section>

      <section class="card mission-box" id="keepOutBox">
        <div class="box-header">
          <h2>Keep-out Termination</h2>
          <p class="muted tight">Add multiple polygons that trigger termination upon entry.</p>
          <p class="muted">Add points, then save the polygon.</p>
        </div>

        <div class="keepout-right">
          <div id="keepOutPoints" class="point-list"></div>
          <div class="point-actions">
            <button id="keepOutAdd" class="btn btn-blue" type="button">Add</button>
            <button id="keepOutSave" class="btn btn-green" type="button">Save Polygon</button>
          </div>

          <div class="saved-poly-block">
            <h3>Saved Polygons</h3>
            <div id="keepOutSaved" class="saved-poly-list"></div>
          </div>
        </div>
      </section>

      <section class="card mission-box" id="shallNotPassBox">
        <div class="box-header">
          <h2>Shall-not-pass Termination</h2>
          <p class="muted">Define boundary line using axis &amp; coordinate.</p>
        </div>

        <div class="line-list">
          <div class="line-row-inline">
            <label for="line_axis_1">Axis</label>
            <select id="line_axis_1" class="axis-select">
              <option value="N/S">N/S</option>
              <option value="E/W">E/W</option>
            </select>
            <label for="line_value_1" class="axis-value-label">Longitude</label>
            <input id="line_value_1" class="axis-value-input box-short box-editable box-center" type="number" step="0.0001" min="-180" max="180" placeholder="0.0000" />
          </div>
          <div class="line-row-inline">
            <label for="line_axis_2">Axis</label>
            <select id="line_axis_2" class="axis-select">
              <option value="N/S">N/S</option>
              <option value="E/W">E/W</option>
            </select>
            <label for="line_value_2" class="axis-value-label">Longitude</label>
            <input id="line_value_2" class="axis-value-input box-short box-editable box-center" type="number" step="0.0001" min="-180" max="180" placeholder="0.0000" />
          </div>
          <div class="line-row-inline">
            <label for="line_axis_3">Axis</label>
            <select id="line_axis_3" class="axis-select">
              <option value="N/S">N/S</option>
              <option value="E/W">E/W</option>
            </select>
            <label for="line_value_3" class="axis-value-label">Longitude</label>
            <input id="line_value_3" class="axis-value-input box-short box-editable box-center" type="number" step="0.0001" min="-180" max="180" placeholder="0.0000" />
          </div>
          <div class="line-row-inline">
            <label for="line_axis_4">Axis</label>
            <select id="line_axis_4" class="axis-select">
              <option value="N/S">N/S</option>
              <option value="E/W">E/W</option>
            </select>
            <label for="line_value_4" class="axis-value-label">Longitude</label>
            <input id="line_value_4" class="axis-value-input box-short box-editable box-center" type="number" step="0.0001" min="-180" max="180" placeholder="0.0000" />
          </div>
        </div>
      </section>

    </div>
  </main>

<script src="./active_mission.js"></script>
</body>
</html>
