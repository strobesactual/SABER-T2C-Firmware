<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Active Mission</title>

  <link rel="stylesheet" href="./styles.css?v=2" />
</head>

<body>
  <header class="topbar">
    <div class="brand">
      <img src="./assets/Logo_Small.png" alt="SABER" />
    </div>

    <nav class="nav">
      <a class="navlink" href="./mission_library.html">Mission Library</a>
      <a class="navlink active" href="./active_mission.html">Active Mission</a>
      <a class="navlink" href="./map.html">Mission Status</a>
      <a class="navlink" href="./testing.html">Testing</a>
    </nav>

    <div class="topbar-actions">
      <span id="readyFlag" class="ready-flag" aria-live="polite"></span>
      <span id="autosaveFlag" class="autosave-flag" aria-live="polite"></span>
      <span id="saveFlag" class="save-flag" aria-live="polite"></span>
      <button id="saveActiveMission" class="btn btn-primary" type="button">Save Mission</button>
    </div>
  </header>

  <main class="container">
    <div class="mission-grid">

      <section class="card">
        <div class="card-left">
          <div class="card-title">
            <img class="section-icon" src="./assets/beacon_icon.png" alt="Beacon" />
            <h2>Configuration</h2>
          </div>
          <p>Add the callsign for this ballon, which will be displayed on the tracking page.</p>
          <p>Select the balloon type being flown.</p>
          <p>Confirm status is "Preflight".</p>
        </div>

        <div class="card-right">
          <div class="field">
            <label for="missionId">Mission ID</label>
            <input id="missionId" class="box-medium box-editable" type="text" placeholder="None" />
          </div>

          <div class="field">
            <label for="callsign">Balloon Callsign</label>
            <div class="callsign-row">
              <input id="callsign"
                class="box-medium box-editable"
                type="text"
                placeholder="SR123"
                maxlength="6" />
              <span class="callsign-limit">Limit 6 characters</span>
            </div>
          </div>

          <div class="field">
            <label for="balloonType">Balloon Type</label>
            <select id="balloonType" class="box-medium box-editable">
              <option value="SABER-70-100">SABER 70-100</option>
              <option value="SABER-60-100">SABER 60-100</option>
              <option value="SABER-50-100">SABER 50-100</option>

              <option value="SABER-70-050">SABER 70-050</option>
              <option value="SABER-60-050">SABER 60-050</option>
              <option value="SABER-50-050">SABER 50-050</option>

              <option value="SABER-70-025">SABER 70-025</option>
              <option value="SABER-60-025">SABER 60-025</option>
              <option value="SABER-50-025">SABER 50-025</option>

              <option value="SABER-100-012">SABER 100-012</option>
              <option value="SABER-70-012">SABER 70-012</option>
              <option value="SABER-60-012">SABER 60-012</option>
              <option value="SABER-50-012">SABER 50-012</option>

              <option value="SABER-70-006">SABER 70-006</option>
              <option value="SABER-60-006">SABER 60-006</option>
              <option value="SABER-50-006">SABER 50-006</option>

              <option value="SABER-30-006">SABER 30-006</option>
            </select>
          </div>

          <div class="field">
            <label for="note">Note</label>
            <input id="note" class="box-long box-editable" type="text" placeholder="Free entry…" />
          </div>

          <div class="field symbol-inline">
            <label>TAK Symbol</label>
            <img
              class="nato-symbol-inline"
              src="./assets/NATO_Friendly_Air.png"
              alt="NATO Friendly Air"
            />
          </div>

          <div class="toggle">
            <label class="switch">
              <input id="autoErase" type="checkbox" />
              <span class="slider"></span>
            </label>
            <span>Auto-erase after termination</span>
          </div>

          <div class="toggle">
            <label class="switch">
              <input id="satcomMessages" type="checkbox" />
              <span class="slider"></span>
            </label>
            <span>I have verified SATCOM messages have been received</span>
          </div>

          <div class="toggle">
            <label class="switch">
              <input id="launchConfirmed" type="checkbox" />
              <span class="slider"></span>
            </label>
            <span>Launch confirmed (allow flight mode)</span>
          </div>
        </div>
      </section>

<section class="card mission-box" id="timedTerminationBox">
        <div class="card-left">
          <div class="box-header">
            <h2>Timed Termination</h2>
            <p class="muted">Termination timer will be computed automatically.</p>
            <div class="toggle card-toggle">
              <label class="switch">
                <input id="timedEnabled" type="checkbox" />
                <span class="slider"></span>
              </label>
              <span>Enable timed termination</span>
            </div>
          </div>
        </div>

        <div class="card-right">
          <div class="tt-inline-grid">
            <div class="inline-field">
              <label for="tt_days">Days</label>
              <input id="tt_days" class="box-narrow box-editable box-center" type="number" min="0" value="0" />
            </div>
            <div class="inline-field">
              <label for="tt_hours">Hours</label>
              <input id="tt_hours" class="box-narrow box-editable box-center" type="number" min="0" max="23" value="0" />
            </div>
            <div class="inline-field">
              <label for="tt_minutes">Minutes</label>
              <input id="tt_minutes" class="box-narrow box-editable box-center" type="number" min="0" max="59" value="0" />
            </div>
            <div class="inline-field">
              <label for="tt_seconds">Seconds</label>
              <input id="tt_seconds" class="box-narrow box-editable box-center" type="number" min="0" max="59" value="0" />
            </div>
            <div class="tt-total-row-inline">
              <label for="tt_total">Total</label>
              <input id="tt_total" class="box-display box-center box-coordinate" type="text" readonly />
              <span>Minutes</span>
            </div>
          </div>
        </div>
      </section>

<section class="card mission-box" id="remainInBox">
        <div class="box-header">
          <h2>Contained Termination</h2>
          <p class="muted tight">Leaving the selected area will trigger termination</p>
          <div class="toggle card-toggle">
            <label class="switch">
              <input id="containedEnabled" type="checkbox" />
              <span class="slider"></span>
            </label>
            <span>Enable contained termination</span>
          </div>
        </div>

        <div id="containedPill" class="status-pill status-neutral status-pill-wide">No selection</div>
      </section>

<section class="card mission-box" id="keepOutBox">
        <div class="card-left">
          <div class="box-header">
            <h2>Exclusion Termination</h2>
            <p class="muted tight">Entering the selected area(s) will trigger termination</p>
            <div class="toggle card-toggle">
              <label class="switch">
                <input id="exclusionEnabled" type="checkbox" />
                <span class="slider"></span>
              </label>
              <span>Enable exclusion termination</span>
            </div>
          </div>
        </div>

        <div class="card-right">
          <div class="exclusion-pill-grid">
            <div id="exclusionPill1" class="status-pill status-neutral status-pill-wide">--</div>
            <div id="exclusionPill2" class="status-pill status-neutral status-pill-wide">--</div>
            <div id="exclusionPill3" class="status-pill status-neutral status-pill-wide">--</div>
            <div id="exclusionPill4" class="status-pill status-neutral status-pill-wide">--</div>
            <div id="exclusionPill5" class="status-pill status-neutral status-pill-wide">--</div>
            <div id="exclusionPill6" class="status-pill status-neutral status-pill-wide">--</div>
          </div>
        </div>
      </section>

<section class="card mission-box" id="shallNotPassBox">
        <div class="box-header">
          <h2>Crossing Termination</h2>
          <p class="muted">Define boundary line using axis &amp; coordinate.</p>
          <div class="toggle card-toggle">
            <label class="switch">
              <input id="crossingEnabled" type="checkbox" />
              <span class="slider"></span>
            </label>
            <span>Enable crossing termination</span>
          </div>
        </div>

        <div class="line-list">
          <div class="line-row-inline">
            <label for="line_axis_1">Axis</label>
            <select id="line_axis_1" class="axis-select">
              <option value="N/S">N/S</option>
              <option value="E/W">E/W</option>
            </select>
            <label for="line_value_1" class="axis-value-label">Longitude</label>
            <input id="line_value_1" class="axis-value-input box-short box-editable box-center" type="number" step="0.0001" min="-180" max="180" placeholder="0.0000" />
          </div>
          <div class="line-row-inline">
            <label for="line_axis_2">Axis</label>
            <select id="line_axis_2" class="axis-select">
              <option value="N/S">N/S</option>
              <option value="E/W">E/W</option>
            </select>
            <label for="line_value_2" class="axis-value-label">Longitude</label>
            <input id="line_value_2" class="axis-value-input box-short box-editable box-center" type="number" step="0.0001" min="-180" max="180" placeholder="0.0000" />
          </div>
          <div class="line-row-inline">
            <label for="line_axis_3">Axis</label>
            <select id="line_axis_3" class="axis-select">
              <option value="N/S">N/S</option>
              <option value="E/W">E/W</option>
            </select>
            <label for="line_value_3" class="axis-value-label">Longitude</label>
            <input id="line_value_3" class="axis-value-input box-short box-editable box-center" type="number" step="0.0001" min="-180" max="180" placeholder="0.0000" />
          </div>
          <div class="line-row-inline">
            <label for="line_axis_4">Axis</label>
            <select id="line_axis_4" class="axis-select">
              <option value="N/S">N/S</option>
              <option value="E/W">E/W</option>
            </select>
            <label for="line_value_4" class="axis-value-label">Longitude</label>
            <input id="line_value_4" class="axis-value-input box-short box-editable box-center" type="number" step="0.0001" min="-180" max="180" placeholder="0.0000" />
          </div>
        </div>
      </section>

<section class="card mission-box" id="prebuiltAreasBox">
        <div class="card-left">
          <div class="card-title">
            <h2>Pre-built areas</h2>
          </div>
          <p class="muted">Choose from your custom area library.</p>
        </div>

        <div class="card-right">
          <div id="prebuiltCount" class="sua-count muted"></div>
          <div class="sua-list-row">
            <select id="prebuiltSelect" class="sua-select" size="6">
              <option>Loading areas…</option>
            </select>
            <div class="sua-actions-side">
              <button id="prebuiltSetRemain" class="btn btn-green btn-small" type="button">Set as Contained boundary</button>
              <button id="prebuiltAddKeepOut" class="btn btn-red btn-small" type="button">Add to Exclusion boundaries</button>
            </div>
          </div>
        </div>
      </section>

<section class="card mission-box" id="predefinedAreasBox">
        <div class="card-left">
          <div class="card-title">
            <h2>FAA Special Use Airspace</h2>
          </div>
          <p class="muted">Select up to 6 areas from the FAA SUA database.</p>
        </div>

        <div class="card-right">
          <div class="sua-search">
            <label for="suaSearch">Search areas</label>
            <input id="suaSearch" class="box-medium box-editable" type="text" placeholder="Search by name or ID" />
          </div>

          <div id="suaStatus" class="sua-count muted"></div>
          <div id="suaCount" class="sua-count muted"></div>

          <div class="sua-list-row">
            <select id="suaSelect" class="sua-select" size="6">
              <option>Loading areas…</option>
            </select>
            <div class="sua-actions-side">
              <button id="suaSetRemain" class="btn btn-green btn-small" type="button">Set as Contained boundary</button>
              <button id="suaAddKeepOut" class="btn btn-red btn-small" type="button">Add to Exclusion boundaries</button>
            </div>
          </div>
        </div>
      </section>

<section class="card mission-box" id="createPolygonsBox">
        <div class="card-left">
          <div class="box-header">
            <h2>Create polygons</h2>
            <p class="muted">Use manual points to build custom contained or exclusion boundaries.</p>
          </div>
        </div>

        <div class="card-right">
          <div class="sua-search">
            <label for="createPolyLabel">Label</label>
            <input id="createPolyLabel" class="box-medium box-editable" type="text" placeholder="Enter name" required />
          </div>
          <div id="createPolyPoints" class="point-list"></div>
          <div class="point-actions create-poly-actions">
            <button id="createPolyAdd" class="btn btn-blue" type="button">Add</button>
            <button id="createSetRemain" class="btn btn-green btn-small" type="button">Set as Contained boundary</button>
            <button id="createAddKeepOut" class="btn btn-red btn-small" type="button">Add to Exclusion boundaries</button>
          </div>
        </div>
      </section>

    </div>
  </main>

<script src="./active_mission.js?v=2"></script>
</body>
</html>
